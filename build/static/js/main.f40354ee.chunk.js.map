{"version":3,"sources":["services/persons.js","components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","components/App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Person","props","person","name","number","onClick","window","confirm","personService","setPersons","persons","filter","p","setErrorMessage","setTimeout","catch","error","Persons","flatMap","toLowerCase","includes","newFilter","Filter","value","onChange","event","setNewFilter","target","PersonForm","onSubmit","preventDefault","personObject","newName","newNumber","map","returnedPerson","setNewName","setNewNumber","concat","type","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","errorMessage","useEffect","console","log","initialPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f40354ee.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  return axios.get(baseUrl).then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  return axios.post(baseUrl, newObject).then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  return axios\n    .put(`${baseUrl}/${id}`, newObject)\n    .then((response) => response.data);\n};\n\nconst remove = (id) => {\n  return axios.delete(`${baseUrl}/${id}`).then((response) => response.data);\n};\n\nexport default {\n  getAll,\n  create,\n  update,\n  remove,\n};\n","import React from \"react\";\nimport personService from \"../services/persons\";\n\nconst Person = (props) => {\n  const removePerson = () => {\n    if (\n      window.confirm(`Are you sure you want to delete ${props.person.name}?`)\n    ) {\n      personService\n        .remove(props.person.id)\n        .then(() => {\n          props.setPersons(\n            props.persons.filter((p) => p.id !== props.person.id)\n          );\n          // Message for Remove\n          props.setErrorMessage([`Removed ${props.person.name}`, true]);\n          setTimeout(() => {\n            props.setErrorMessage([null, true]);\n          }, 5000);\n        })\n        .catch((error) => {\n          props.setErrorMessage([\n            `Information of ${props.person.name} has already been removed from server`,\n            false,\n          ]);\n          setTimeout(() => {\n            props.setErrorMessage([null, true]);\n          }, 5000);\n        });\n    }\n  };\n\n  return (\n    <div>\n      {props.person.name} {props.person.number}{\" \"}\n      <button onClick={removePerson}>delete</button>\n    </div>\n  );\n};\n\nexport default Person;\n","import React from \"react\";\nimport Person from \"./Person\";\n\nconst Persons = (props) => {\n  return (\n    <>\n      {props.persons.flatMap((person) =>\n        person.name.toLowerCase().includes(props.newFilter.toLowerCase())\n          ? [\n              <Person\n                key={person.name}\n                person={person}\n                persons={props.persons}\n                setPersons={props.setPersons}\n                setErrorMessage={props.setErrorMessage}\n              />,\n            ]\n          : []\n      )}\n    </>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Filter = (props) => {\n  const handleFilterChange = (event) => {\n    props.setNewFilter(event.target.value);\n  };\n\n  return (\n    <div>\n      filter shown with{\" \"}\n      <input value={props.newFilter} onChange={handleFilterChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\nimport personService from \"../services/persons\";\n\nconst PersonForm = (props) => {\n  const handlePersonChange = (event) => {\n    props.setNewName(event.target.value);\n  };\n  const handleNumberChange = (event) => {\n    props.setNewNumber(event.target.value);\n  };\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: props.newName,\n      number: props.newNumber,\n    };\n    if (!props.persons.map((person) => person.name).includes(props.newName)) {\n      personService.create(personObject).then((returnedPerson) => {\n        props.setPersons(props.persons.concat(returnedPerson));\n        props.setNewName(\"\");\n        props.setNewNumber(\"\");\n        // Message for Create\n        props.setErrorMessage([`Added ${returnedPerson.name}`, true]);\n        setTimeout(() => {\n          props.setErrorMessage([null, true]);\n        }, 5000);\n      });\n    } else {\n      if (\n        window.confirm(\n          `${props.newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        personService\n          .update(\n            props.persons.filter(\n              (person) => person.name === personObject.name\n            )[0].id,\n            personObject\n          )\n          .then((returnedPerson) => {\n            props.setPersons(\n              props.persons.map((person) =>\n                person.name === returnedPerson.name ? returnedPerson : person\n              )\n            );\n            props.setNewName(\"\");\n            props.setNewNumber(\"\");\n            // Message for Update\n            props.setErrorMessage([`Updated ${returnedPerson.name}`, true]);\n            setTimeout(() => {\n              props.setErrorMessage([null, true]);\n            }, 5000);\n          })\n          .catch((error) => {\n            props.setErrorMessage([\n              `Information of ${personObject.name} has already been removed from server`,\n              false,\n            ]);\n            setTimeout(() => {\n              props.setErrorMessage([null, true]);\n            }, 5000);\n          });\n      }\n    }\n  };\n\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={props.newName} onChange={handlePersonChange} />\n      </div>\n      <div>\n        number: <input value={props.newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\nconst Notification = ({ message }) => {\n  const successStyle = {\n    color: \"green\",\n    background: \"lightgrey\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n  const errorStyle = {\n    color: \"red\",\n    background: \"lightgrey\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n  if (message[0] === null) {\n    return null;\n  } else if (message[1] === true) {\n    return <div style={successStyle}>{message}</div>;\n  } else {\n    return <div style={errorStyle}>{message}</div>;\n  }\n};\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./Persons\";\nimport Filter from \"./Filter\";\nimport PersonForm from \"./PersonForm\";\nimport Notification from \"./Notification\";\nimport personService from \"../services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState([null, true]);\n\n  useEffect(() => {\n    console.log(\"fetching persons...\");\n    personService.getAll().then((initialPersons) => {\n      console.log(\"persons fetched!\");\n      setPersons(initialPersons);\n    });\n  }, []);\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <Filter newFilter={newFilter} setNewFilter={setNewFilter} />\n      <h2>add a new</h2>\n      <PersonForm\n        persons={persons}\n        setPersons={setPersons}\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n        setErrorMessage={setErrorMessage}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        setPersons={setPersons}\n        newFilter={newFilter}\n        setErrorMessage={setErrorMessage}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}